<!-- Main wrapper  -->
<div id="main-wrapper">
  <app-noticelabel [showNotice]="isMaintenance"></app-noticelabel>
  <div class="unix-login">
    <div class="container-fluid">
      <div class="row justify-content-center">
        <div class="col-lg-4">
          <div class="login-content card">
            <div class="login-form">
              <h4>Sign up</h4>
              <div *ngIf="this.errFlg" class="alert alert-danger alert-dismissable">
                <a href="#" class="close" data-dismiss="alert" aria-label="close" (click)="closeDiv();">&times;</a>
                {{this.errString}}
              </div>
              <div *ngIf="!showForm" class="register-link m-t-15 text-center">
               <a routerLink="/login"> Login Here</a>
              </div>
              <form *ngIf="showForm" (ngSubmit)="onSubmit(signupForm)" #signupForm="ngForm">
                <div class="form-group">
                  <label>Full name</label>
                  <input type="email" class="form-control" placeholder="Name" name="name" id="name" required ngModel #name="ngModel">
                </div>
                <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required!</div>
                <div class="form-group">
                  <label>Email address</label>
                  <input type="email" class="form-control" placeholder="Email" name="email" id="email" required ngModel #email="ngModel">
                </div>
                <div [hidden]="email.valid || email.pristine" class="alert alert-danger">Email is required!</div>
                <div class="form-group">
                  <label>Password</label>
                  <input type="password" class="form-control" placeholder="Password" name="password" id="password" required ngModel #password="ngModel">
                </div>
                <div [hidden]="password.valid || password.pristine" class="alert alert-danger">Password is required!</div>
                <div class="form-group">
                  <label>Confirm password</label>
                  <input type="password" class="form-control" placeholder="Confirm password" name="password_confirmation" id="password_confirmation" required ngModel #password_confirmation="ngModel" (keyup)="handleMatch(signupForm.value.password,$event.target.value)" (focusout)="handleMatch(signupForm.value.password,$event.target.value)">
                </div>
                <div [hidden]="password_confirmation.valid || password_confirmation.pristine" class="alert alert-danger">Confirm Password is required!</div>
                <div class="form-group" *ngIf="passwordFlg">
                  <div class="alert alert-danger">
                    {{ passMatch }}
                  </div>
                </div>
                <div class="form-group">
                  <label for="stripe_plan">Plan</label>
                  <select class="form-control" name="stripe_plan" required ngModel #stripe_plan="ngModel" id="stripe_plan" (change)="showPaymentOptions($event.target.value)">
                    <option value="">Select Plan</option>
                    <option *ngFor="let plan of stripePlansArr" value="{{ plan.id }}">{{ plan.name }}</option>
                  </select>
                </div>
                <div [hidden]="stripe_plan.valid || stripe_plan.pristine" class="alert alert-danger">Please select a plan!</div>
                <!--credit card start-->
                <div class="credit-card animated bounceIn" *ngIf="myPayOptions">
                  <div class="form-group">
                    <label for="card_no"><i class="fa fa-credit-card" aria-hidden="true"></i> Card No</label>
                    <p class="creadit-card-type"><img src="../../assets/images/{{cardType}}.png" alt="credit card type"></p>
                    <input type="text" class="form-control" placeholder="XXXX-XXXX-XXXX-XXXX" name="card_no" id="card_no" required ngModel #card_no="ngModel" (keyup)="checkCreditCardType($event.target.value)" [ngClass]="{'animated tada error-input': card_no.touched && !card_no.valid }">
                  </div>
                  <div class="form-group">
                    <div class="row">
                      <div class="col-md-5">
                        <label for="month">Month</label>
                        <select class="form-control" name="month" id="month" required ngModel #month="ngModel" [ngClass]="{'animated tada error-input': !month.valid && month.touched }">
                          <option value="">SELECT MONTH</option>
                          <option *ngFor="let month of monthArr" value="{{ month }}">{{ month }}</option>
                        </select>
                      </div>
                      <div class="col-md-7">
                        <label for="year">Year</label>
                        <select class="form-control" name="year" id="year" required ngModel #year="ngModel" [ngClass]="{'animated tada error-input': !year.valid && year.touched }">
                          <option value="">SELECT YEAR</option>
                          <option *ngFor="let year of yearArr" value="{{ year }}">{{ year }}</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="cvc">CVC</label>
                    <input type="password" class="form-control" placeholder="****" name="cvc" id="cvc" required ngModel #cvc="ngModel" [ngClass]="{'animated tada error-input': !cvc.valid && cvc.touched }">
                  </div>
                </div>
                <!--credit card end-->
                <button type="submit" class="btn btn-primary btn-flat m-b-30 m-t-30" [disabled]="!signupForm.form.valid">
                  <span *ngIf="formBusy"><i class="fa fa-circle-o-notch fa-spin"></i> Processing....</span>
                  <span *ngIf="!formBusy">Sign Up</span>
                </button>
                <div class="register-link m-t-15 text-center">
                  <p>Do you have account ? <a routerLink="/login"> Login Here</a></p>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
<!-- End Wrapper -->
