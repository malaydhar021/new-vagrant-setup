<div class="mainBox exitMain">
  <header class="mainBoxHeader">
    <div class="mainBoxHeaderLeft">
      <button type="button" class="addReview" (click)="ngxSmartModalService.getModal('modal1').open()">
        <img src="../../../../assets/images/addIcon.png" alt=""> Add an Exit pop-up</button>
    </div>
    <div class="mainBoxHeaderRight">
      <input type="text" placeholder="Search ...">
    </div>
  </header>
  <div class="dataTableArea">
    <div class="popupListContainer">
      <ng-scrollbar [compact]="true">
        <ul class="popupList">
          <li>
            <div class="popupThubm" (click)="ngxSmartModalService.getModal('exitPopup1').open()">
              <img src="../../../../assets/images/thumb1.png" alt="">
            </div>
            <div class="popupCtrl">
              <p>Exit Pop 1</p>
              <div class="crtlRight">
                <a><img src="../../../../assets/images/icon_edit.png" alt=""></a>
                <a href=""><img src="../../../../assets/images/icon_delete_red.png" alt=""></a>
              </div>
            </div>
          </li>
          <li>
            <div class="popupThubm" (click)="ngxSmartModalService.getModal('exitPopup2').open()">
              <img src="../../../../assets/images/thumb2.png" alt="">
            </div>
            <div class="popupCtrl">
              <p>Exit Pop 2</p>
              <div class="crtlRight">
                <a><img src="../../../../assets/images/icon_edit.png" alt=""></a>
                <a href=""><img src="../../../../assets/images/icon_delete_red.png" alt=""></a>
              </div>
            </div>
          </li>
          <li>
            <div class="popupThubm" (click)="ngxSmartModalService.getModal('exitPopup3').open()">
              <img src="../../../../assets/images/thumb3.png" alt="">
            </div>
            <div class="popupCtrl">
              <p>Exit Pop 3</p>
              <div class="crtlRight">
                <a><img src="../../../../assets/images/icon_edit.png" alt=""></a>
                <a href=""><img src="../../../../assets/images/icon_delete_red.png" alt=""></a>
              </div>
            </div>
          </li>
          <li>
            <div class="popupThubm" (click)="ngxSmartModalService.getModal('exitPopup4').open()">
              <img src="../../../../assets/images/thumb4.png" alt="">
            </div>
            <div class="popupCtrl">
              <p>Exit Pop 4</p>
              <div class="crtlRight">
                <a><img src="../../../../assets/images/icon_edit.png" alt=""></a>
                <a href=""><img src="../../../../assets/images/icon_delete_red.png" alt=""></a>
              </div>
            </div>
          </li>
          <li>
            <div class="popupThubm" (click)="ngxSmartModalService.getModal('exitPopup5').open()">
              <img src="../../../../assets/images/thumb5.png" alt="">
            </div>
            <div class="popupCtrl">
              <p>Exit Pop 5</p>
              <div class="crtlRight">
                <a><img src="../../../../assets/images/icon_edit.png" alt=""></a>
                <a href=""><img src="../../../../assets/images/icon_delete_red.png" alt=""></a>
              </div>
            </div>
          </li>
        </ul>
      </ng-scrollbar>
    </div>

  </div>
</div>

<ngx-smart-modal #exitPopup1 identifier="exitPopup1" class="exitPopup theme1">
  <div class="leftSec">
    <img src="../../../../assets/images/icon_mic_white.png" alt="">
    <h2>Take a break, TAKE A LOOK</h2>
  </div>
  <div class="rightSec">
    <div class="rightSecContainer">
      <p>
        Curabitur blandit velit non eros bibendum tincidunt. Integer tincidunt massa sed laoreet lacinia. popUp 1
      </p>
      <form action="">
        <input type="text" placeholder="Enter your email">
        <input type="button" value="Subscribe">
      </form>
    </div>
  </div>
  <!-- <button (click)="myModal.close()">Close</button> -->
</ngx-smart-modal>


<ngx-smart-modal #exitPopup2 identifier="exitPopup2" class="exitPopup theme2">
  <div class="leftSec">
    <img src="../../../../assets/images/icon_mic_white.png" alt="">
    <h2>Take a break, TAKE A LOOK</h2>
  </div>
  <div class="rightSec">
    <div class="rightSecContainer">
      <p>
        Curabitur blandit velit non eros bibendum tincidunt. Integer tincidunt massa sed laoreet lacinia. this is exit popup 2
      </p>
      <form action="">
        <input type="text" placeholder="Enter your email">
        <input type="button" value="Subscribe">
      </form>
    </div>
  </div>
  <!-- <button (click)="myModal.close()">Close</button> -->
</ngx-smart-modal>


<ngx-smart-modal #exitPopup3 identifier="exitPopup3" class="exitPopup theme3">
  <div class="topSec">
    <img src="../../../../assets/images/icon_mic_white.png" alt="">
    <h2>Take a break, take a look</h2>
    <p>
      Curabitur blandit velit non eros bibendum tincidunt. Integer tincidunt massa sed laoreet lacinia. pop up 3
    </p>
  </div>
  <div class="bottomSec">
    <div class="rightSecContainer">
      <form action="">
        <input type="text" placeholder="Enter your email">
        <input type="button" value="Subscribe">
      </form>
    </div>
  </div>
  <!-- <button (click)="myModal.close()">Close</button> -->
</ngx-smart-modal>


<ngx-smart-modal #exitPopup4 identifier="exitPopup4" class="exitPopup theme4">
  <div class="topSec">
    <p><img src="../../../../assets/images/icon_mic_colored_1.png" alt=""></p>
  </div>
  <div class="bottomSec">
    <div class="rightSecContainer">
      <h2>Take a break, take a look</h2>
      <p>
        Curabitur blandit velit non eros bibendum tincidunt. Integer tincidunt massa sed laoreet lacinia. popUp 4
      </p>
      <form action="">
        <input type="text" placeholder="Enter your email">
        <input type="button" value="Subscribe">
      </form>
    </div>
  </div>
  <!-- <button (click)="myModal.close()">Close</button> -->
</ngx-smart-modal>



<ngx-smart-modal #exitPopup5 identifier="exitPopup5" class="exitPopup theme5">
  <div class="topSec">
    <h2>Take a break, take a look</h2>
    <p>
      Curabitur blandit velit non eros bibendum tincidunt. Integer tincidunt massa sed laoreet lacinia. Aliquam eros
      magna, ullamcorper. popUp 5
    </p>
  </div>
  <div class="btmSec">
    <form action="">
      <input type="text" placeholder="Enter your email">
      <input type="button" value="Subscribe">
    </form>
  </div>
  <!-- <button (click)="myModal.close()">Close</button> -->
</ngx-smart-modal>

<ngx-smart-modal #modal1 identifier="modal1" class="sr-modal modalCreateExit">
  <div class="sr-modal-container">
    <div class="sr-modal-header">
      <h2>
        Create Exit popup
      </h2>
    </div>
    <div class="sr-modal-body">
      <div *ngIf="errorMessage!==''"> {{this.errorMessage}} </div>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="sr-form">
          <div class="sr-form-row">
            <div class="sr-form-cell-small">
              <label>Exit Popup Name</label>
              <div class="sr-form-field">
                <input type="text" class="sr-form-ctrl"  [ngClass]="{error: isSubmitted && getFormControls.exitPopUpName.errors}" formControlName="exitPopUpName">
                <div class="error-msg" *ngIf="(
                  isSubmitted
                  && getFormControls.exitPopUpName.errors !== null
                  && getFormControls.exitPopUpName.errors.required)">
                  Exit popup name Name is required
                </div>
              </div>
            </div>
            <div class="sr-form-cell-small">
              <label>Campaign <input type="checkbox" class="tglBtn" formControlName="hasCampaign" (ngModelChange)='addCampaing()'></label>
            </div>

            <div class="sr-form-cell-small" *ngIf="showCampaign">
              <label>Attach a Campaign</label>
              <div class="sr-form-field">
                <select class="sr-form-ctrl" formControlName="campaign">
                  <option *ngFor="let campaign of campaigns" [ngValue]="campaign.id"> {{ campaign.campaign_name }}</option>
                </select>
              </div>
            </div>
          </div>

          <div class="sr-form-row">
            <div class="sr-form-cell-small">
              <div class="headerInForm">
                <span>POPUP CONTENT</span>
              </div>
              <label>Add Sticky Reviews
                <input type="checkbox" class="tglBtn" formControlName="hasStickyReview" (ngModelChange)='addStickeyReview()'>
              </label>

              <label style="margin-top: 20px;" *ngIf="showStickyReviews">Select Reviews</label>
              <div class="sr-form-field" *ngIf="showStickyReviews">
                <select class="sr-form-ctrl" formControlName="stickyReviews" multiple>
                  <option *ngFor="let stickyReview of stickyReviews" [ngValue]="stickyReview.id"> {{ stickyReview.name }}</option>
                </select>
              </div>

            </div>
            <div class="sr-form-cell-small exitPopup_paddings">
              <label>Add Email Field <input type="checkbox" class="tglBtn" formControlName="hasEmailField" (ngModelChange)='addEmailField()'></label>
            </div>
          </div>
          <div class="sr-form-row">
            <div class="sr-form-cell-small">
              <div class="headerInForm">
                <span>HEADER</span>
              </div>
              <label>Header Text</label>
              <div class="sr-form-field">
                <input type="text" class="sr-form-ctrl" formControlName="exitPopupHeaderText">
                <span class="error-msg"></span>
              </div>
            </div>

            <div class="sr-form-cell-small" *ngIf="showEmailField">
              <div class="headerInForm">
                <span>CTA BUTTON</span>
              </div>
              <label>Button Text</label>
              <div class="sr-form-field">
                <input type="text" class="sr-form-ctrl" formControlName="exitPopupButtonText">
                <span class="error-msg"></span>
              </div>
            </div>

            <div class="sr-form-cell-small" *ngIf="showEmailField">
              <div class="headerInForm">
                <span>CTA BUTTON URL</span>
              </div>
              <label>Button URL</label>
              <div class="sr-form-field">
                <input type="text" class="sr-form-ctrl" formControlName="exitPopupButtonUrl">
                <span class="error-msg"></span>
              </div>
            </div>

          </div>

          <div class="sr-form-row">
            <div class="sr-form-cell-small">
              <div class="inlineRow clearfix">
                <label>Header Text Color</label>
                <div class="colorPicker">
                  <input [(colorPicker)]="color1" [style.background]="color1" class="colorChosen" formControlName="headerTextColor" (colorPickerChange)="getHeaderTextColor($event)"/>
                </div>
              </div>

              <div class="inlineRow clearfix">
                <label>Header Background Color</label>
                <div class="colorPicker">
                  <input [(colorPicker)]="color2" [style.background]="color2" class="colorChosen" readonly formControlName="headerBackgroundColor" (colorPickerChange)="getHeaderBackgroundColor($event)"/>
                </div>
              </div>
            </div>
            <div class="sr-form-cell-small">
              <div class="inlineRow clearfix">
                <label>Button Text Color</label>
                <div class="colorPicker">
                  <input [(colorPicker)]="color3" [style.background]="color3" class="colorChosen" readonly formControlName="buttonTextColor" (colorPickerChange)="getButtonTextColor($event)"/>
                </div>
              </div>

              <div class="inlineRow clearfix">
                <label>Button Background Color</label>
                <div class="colorPicker">
                  <input [(colorPicker)]="color4" [style.background]="color4" class="colorChosen" readonly formControlName="buttonBackgroundColor" (colorPickerChange)="getButtonBackgroundColor($event)"/>
                </div>
              </div>
            </div>
          </div>

          <div class="sr-form-row">
            <div class="sr-form-cell-small">
              <div class="headerInForm">
                <span>BODY TEXT</span>
              </div>

              <label>Paragraph Text</label>
              <div class="sr-form-field">
                <input type="text" class="sr-form-ctrl" formControlName="exitPopupParagraphText">
                <span class="error-msg"></span>
              </div>

              <div class="inlineRow clearfix">
                <label>Paragraph Text Color</label>
                <div class="colorPicker">
                  <input [(colorPicker)]="color5" [style.background]="color5" class="colorChosen" formControlName="paragraphTextColor" (colorPickerChange)="getparagraphTextColor($event)"/>
                </div>
              </div>

              <div class="inlineRow clearfix bgColor">
                <label>Body Background Color </label>
                <div class="colorPicker">
                  <input [(colorPicker)]="color6" [style.background]="color6" class="colorChosen" readonly formControlName="bodyBackgroundColor" (colorPickerChange)="getBodyBackgroundColor($event)"/>
                </div>
              </div>

              <label>Choose Visual Appearance<img src="../../../../assets/images/icon_info2.png" class="infos_imgs"
                  alt="infos"></label>
              <div class="sr-form-field">
                <select class="sr-form-ctrl" formControlName="exitPopupVisualStyles"  (change)="setPopupVisualStyle()">
                  <option *ngFor="let style of visualStyles" [ngValue]="style.id"> {{ style.name }}</option>
                </select>
              </div>

            </div>

            <div class="sr-form-cell-small">
<!--              background-color: #252525;-->
              <div class="previewpopup exitPopup theme1" [style.background-color]="this.bodyBackgroundColor" style="display: block;" *ngIf="showMe==='1'">
                <div class="previewComp">
                  <div class="leftSec" [style.background-color]="this.headerBackgroundColor">
                    <img src="../../../../assets/images/icon_mic_white.png" alt="">
                    <h2 [style.color]="this.headerTextColor"> {{this.form.value.exitPopupHeaderText}} </h2>
                  </div>
                  <div class="rightSec">
                    <div class="rightSecContainer">
                      <p [style.color]="this.paragraphTextColor">
                        {{this.form.value.exitPopupParagraphText}}
                      </p>
                      <form action="" *ngIf="showEmailField">
                        <input type="text" placeholder="Enter your email">
                        <input type="button" value="{{this.form.value.exitPopupButtonText}}" [style.color]="this.buttonTextColor" [style.background-color]="this.buttonBackgroundColor"/>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
<!--              background-color: #8cb5fe-->
              <div class="previewpopup exitPopup theme2" [style.background-color]="this.bodyBackgroundColor" style="display: block;" *ngIf="showMe==='2'">
                <div class="previewComp">
                  <div class="leftSec" [style.background-color]="this.headerBackgroundColor">
                    <img src="../../../../assets/images/icon_mic_white.png" alt="">
                    <h2 [style.color]="this.headerTextColor">{{this.form.value.exitPopupHeaderText}} </h2>
                  </div>
                  <div class="rightSec">
                    <div class="rightSecContainer">
                      <p [style.color]="this.paragraphTextColor">
                        {{this.form.value.exitPopupParagraphText}}
                      </p>
                      <form action="{{this.form.value.exitPopupButtonUrl}}" *ngIf="showEmailField">
                        <input type="text" placeholder="Enter your email">
                        <input type="button" value="{{this.form.value.exitPopupButtonText}}" [style.color]="this.buttonTextColor" [style.background-color]="this.buttonBackgroundColor"/>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
<!--              background-color: #fb8fff;-->
              <div class="previewpopup exitPopup theme3" [style.background-color]="this.bodyBackgroundColor" style="display: block;" *ngIf="showMe==='3'">
                <div class="previewComp">
                  <div class="topSec" [style.background-color]="this.headerBackgroundColor">
                    <img src="../../../../assets/images/icon_mic_white.png" alt="">
                    <h2 [style.color]="this.headerTextColor">{{this.form.value.exitPopupHeaderText}} </h2>
                    <p [style.color]="this.paragraphTextColor">
                      {{this.form.value.exitPopupParagraphText}}
                    </p>
                  </div>
                  <div class="bottomSec">
                    <div class="rightSecContainer">
                      <form action="{{this.form.value.exitPopupButtonUrl}}" *ngIf="showEmailField">
                        <input type="text" placeholder="Enter your email">
                        <input type="button" value="{{this.form.value.exitPopupButtonText}}" [style.color]="this.buttonTextColor" [style.background-color]="this.buttonBackgroundColor"/>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
<!--              background-color: #e7e7e4-->
              <div class="previewpopup exitPopup theme4" [style.background-color]="this.bodyBackgroundColor"  style="display: block;" *ngIf="showMe==='4'">
                <div class="previewComp">
                  <div class="topSec" [style.background-color]="this.headerBackgroundColor">
                    <p><img src="../../../../assets/images/icon_mic_colored_1.png" alt=""></p>
                  </div>
                  <div class="bottomSec">
                    <div class="rightSecContainer">
                      <h2 [style.color]="this.headerTextColor">{{this.form.value.exitPopupHeaderText}} </h2>
                      <p [style.color]="this.paragraphTextColor">
                        {{this.form.value.exitPopupParagraphText}}
                      </p>
                      <form action="{{this.form.value.exitPopupButtonUrl}}" *ngIf="showEmailField">
                        <input type="text" placeholder="Enter your email">
                        <input type="button" value="{{this.form.value.exitPopupButtonText}}" [style.color]="this.buttonTextColor" [style.background-color]="this.buttonBackgroundColor"/>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
<!--              background-color: #facc00;-->
              <div class="previewpopup exitPopup theme5" [style.background-color]="this.bodyBackgroundColor" style="display: block;" *ngIf="showMe==='5'">
                <div class="previewComp">
                  <div class="topSec" [style.background-color]="this.headerBackgroundColor">
                    <h2 [style.color]="this.headerTextColor">{{this.form.value.exitPopupHeaderText}} </h2>
                    <p [style.color]="this.paragraphTextColor">
                      {{this.form.value.exitPopupParagraphText}}
                    </p>
                  </div>
                  <div class="btmSec">
                    <form action="{{this.form.value.exitPopupButtonUrl}}" *ngIf="showEmailField">
                      <input type="text" placeholder="Enter your email">
                      <input type="button" value="{{this.form.value.exitPopupButtonText}}" [style.color]="this.buttonTextColor" [style.background-color]="this.buttonBackgroundColor"/>
                    </form>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <div class="sr-form-row">
            <div class="sr-form-cell-small offset-1 full_left">
              <button class="button-submit" type="">
                <img src="../../../../assets/images/addIcon.png" alt=""> Save Popup
              </button>
            </div>
          </div>

        </div>
      </form>
    </div>
  </div>
  <!-- <button (click)="myModal.close()">Close</button> -->
</ngx-smart-modal>
